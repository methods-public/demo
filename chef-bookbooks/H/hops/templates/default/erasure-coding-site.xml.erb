<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>

  <property>
    <name>dfs.erasure_coding.codecs.json</name>
    <value>
      [
      {
      "id" : "xor",
      "parity_dir" : "/raid",
      "stripe_length" : 10,
      "parity_length" : 1,
      "priority" : 100,
      "erasure_code" : "io.hops.erasure_coding.XORCode",
      "description" : "XOR code"
      },
      {
      "id" : "rs",
      "parity_dir" : "/raidrs",
      "stripe_length" : 10,
      "parity_length" : 4,
      "priority" : 300,
      "erasure_code" : "io.hops.erasure_coding.ReedSolomonCode",
      "description" : "ReedSolomonCode code"
      },
      {
      "id" : "src",
      "parity_dir" : "/raidsrc",
      "stripe_length" : 10,
      "parity_length" : 6,
      "parity_length_src" : 2,
      "erasure_code" : "io.hops.erasure_coding.SimpleRegeneratingCode",
      "priority" : 200,
      "description" : "SimpleRegeneratingCode code"
      },
      
    </value>
    <description>JSon string that contains all erasure coding codecs</description>
  </property>

  <property>
    <name>fs.hdfs.impl</name>
    <value>org.apache.hadoop.hdfs.DistributedFileSystem</value>
    <description>The FileSystem for hdfs: uris.</description>
  </property>

<!--  
  <property>
    <name>fs.hdfs.impl</name>
    <value>org.apache.hadoop.fs.ErasureCodingFileSystem</value>
    <description>FileSystem implementation to be used with HDFS</description>
  </property>
-->

<property>
  <name>dfs.erasure_coding.parity_folder</name>
  <value>/parity</value>
  <description>The HDFS folder to store parity information in</description>
</property>

<property>
  <name>dfs.erasure_coding.recheck_interval</name>
  <value>300000</value>
  <description>How frequently should the system schedule encoding or repairs and check their state</description>
</property>

<property>
  <name>dfs.erasure_coding.repair_delay</name>
  <value>1800000</value>
  <description>How long should the system wait before scheduling a parity repair</description>
</property>

<property>
  <name>dfs.erasure_coding.parity_repair_delay</name>
  <value>1800000</value>
  <description>How long should the system wait before scheduling a parity repair</description>
</property>

<property>
  <name>dfs.erasure_coding.active_encoding_limit</name>
  <value>10</value>
  <description>Maximum number of active encoding jobs</description>
</property>

<property>
  <name>dfs.erasure_coding.active_repair_limit</name>
  <value>10</value>
  <description>Maximum number of active repair jobs</description>
</property>

<property>
  <name>dfs.erasure_coding.active_parity_repair_limit</name>
  <value>10</value>
  <description>Maximum number of active parity repair jobs</description>
</property>

<property>
  <name>dfs.erasure_coding.deletion_limit</name>
  <value>100</value>
  <description>Delete operations to be handle during one round</description>
</property>

<property>
  <name>dfs.erasure_coding.encoding_manager</name>
  <value>io.hops.erasure_coding.MapReduceEncodingManager</value>
  <description>Implementation of the EncodingManager to be used</description>
</property>

<property>
  <name>dfs.erasure_coding.block_rapair_manager</name>
  <value>io.hops.erasure_coding.MapReduceBlockRepairManager</value>
  <description>Implementation of the repair manager to be used</description>
</property>
  
</configuration>
