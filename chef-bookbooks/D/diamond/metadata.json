{"name":"diamond","version":"2.1.0","description":"Installs/Configures diamond","long_description":"[![Build\nStatus](https://travis-ci.org/CBarraford/diamond_cookbook.svg?branch=master)](https://travis-ci.org/CBarraford/diamond_cookbook)\n\nAbout\n=====\n\nDiamond is a python daemon that collects system metrics and publishes them to Graphite. It is\ncapable of collecting cpu, memory, network, i/o, load and disk metrics.  Additionally,\nit features an API for implementing custom collectors for gathering metrics from almost any source.\n\nThe documentation can be found on our [wiki](https://github.com/python-diamond/Diamond/wiki). For your\nconvenience the wiki is setup as a submodule of this checkout. You can get it via running\n\n    git submodule init\n    git submodule update\n\nDefinitions\n===========\nThis cookbook has a definition to make it easy to create collector configs. By default, the definition enables the\ncollector. You can supply it with addition parameters. Below is the simplest example.\n\n```\n    collector_config \"CPUCollector\"\n```\n\nThis simple example just enables the collector and it inhereits the default configuration for this collector as defined\nby the collector.\n\nYou can override these default settings by passing additional parameters. Below is an example of this.\n\n```\n    collector_config \"DiskSpaceCollector\" do\n      filesystems      'ext2,ext3,xfs'\n      exclude_filters  \"'^/export/home'\"\n    end\n```\n\nThis example is enabling the DiskSpaceCollector while passing addition settings to specify which filesystems to mine data\nand to exclude certain directories (regex). Read the documentation/collector source code for information on what parameters\neach collector has.\nIt is recommended that instead of passing values directly, inherit them from the node (as show belown).\n\n```\n    collector_config \"DiskSpaceCollector\" do\n      filesystems      node[:diamond][:collectors][:DiskSpaceCollector][:filesystems]\n      exclude_filters  node[:diamond][:collectors][:DiskSpaceCollector][:exclude_filters]\n    end\n```\n\nWhen you are collecting data via snmp, you need to specify that in the definition (as shown below)\n```\n      collector_config \"SNMPInterfaceCollector\" do\n        path      node[:diamond][:collectors][:SNMPInterfaceCollector][:path]\n        snmp      true\n        interval  node[:diamond][:collectors][:SNMPInterfaceCollector][:interval]\n        time__out node[:diamond][:collectors][:SNMPInterfaceCollector][:timeout]\n        retries   node[:diamond][:collectors][:SNMPInterfaceCollector][:retries]\n        port      node[:diamond][:collectors][:SNMPInterfaceCollector][:port]\n        community node[:diamond][:collectors][:SNMPInterfaceCollector][:community]\n        devices   node[:diamond][:collectors][:SNMPInterfaceCollector][:devices]\n      end\n```\n\nWhats with the double underscore ('__')?\nif a double underscore exists in the attribute name, it will be automatically removed when written to the collector config file.\nThis is due to limitations within ruby code. Sometimes a attibute name may be a reserved ruby word (ie timeout), in which\ncase, you can't use that key to specify an attribute for the collector. The use of double underscores ('__') is a work around for that.\n(so 'timeout' is called as 'time__out' in the cookbook, but writes 'timeout' to the config file.\n\nUSAGE\n=====\nIt is recommended that you create a recipe per collector, and add that recipe to the related role.\nWhen passing sensitive data to a diamond collector config (ie a username, password, etc), use data bags\nto encrypt the values.\n\nCI\n=====\nUsing [travis-ci](https://travis-ci.org/CBarraford/diamond_cookbook) for\ntesting changes.\n\nPublishing to [Chef Supermarket](https://supermarket.getchef.com/)\n=====\n\nTo update the cookbook on the supermarket use\n[stove](https://supermarket.chef.io/tools/stove)\n\n**Example**\n```bash\nstove login --username cbarraford --key ~/.chef/cbarraford.pem\nstove\n```\n","maintainer":"Chad Barraford","maintainer_email":"cbarraford@gmail.com","license":"All rights reserved","platforms":{"ubuntu":">= 0.0.0","debian":">= 0.0.0","redhat":">= 0.0.0","centos":">= 0.0.0"},"dependencies":{"apt":">= 0.0.0","yum":">= 0.0.0","build-essential":">= 0.0.0","git":">= 0.0.0"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{}}