---
language: ruby
cache: bundler
rvm:
- 2.2.2
deploy:
  edge: true
  provider: chef-supermarket
  user_id: criteo
  cookbook_category: Operating Systems & Virtualization
  client_key: ".travis/client.pem"
  on:
    tags: true
    all_branches: true
before_install:
- openssl aes-256-cbc -K $encrypted_f19c3ca031c8_key -iv $encrypted_f19c3ca031c8_iv
  -in .travis/travis-ci.pem.enc -out ~/.ssh/id_rsa -d
- rvm 1.9.3 --fuzzy do ruby -S gem update bundler
env:
  global:
  - secure: cqCAVrHO8VJQNFKQgvTEqS/rodvdiZmS2H0iv3HkQQ7yrrXVJZPDhbg1iGA3H8xgdDc3RCbK6Jf8A6G7Hs2cgpy6Nr6GScT2DHxz7faDxnYg9JHIzlM/bxaL5LsBg8shXkRzMtNuNTSU6eA5hK8A6lAO3vFb2BhWrcvGwpyE+ZP+dWsoP5GJGI7ZDok4FT7CHMWPhjMBYG7erbmupaqjtW4/p96ElCZRZ6fGwKs+0901eIy4Z8HxdM8PCdY/bGg19iByarv1BLf/wJBQ+IyzZxyxs83Fqjm4RPqMriF9r1i1XWZjv1vDeme6NqiRYIqszDQGsfmwSlRexHDNVZrqCy8jYi/ntAuDTmmbjThxNsM0LXExaUrgbwoiQvIr5Jv1QbIEjEcAAjrdATQC+RffQm/+Zv/JrWmV8X09gGKDJkPw/qu22rt3gNYjGxnRCW9CHpA16RaRjRwUIVjJnYAL/3KXOTN4XvZIxmMCeqtZ/YxVBX/xk3X9M5XoUNlvwzQjPrKcP7WJFptoBljp1ZIHtDzKZRTeDhnhVXGnYz9B6DnuZbrcFAj/ErPeuRl2Et/+7yl2SwoRqCeEZOlESXY4j2cvk3ByLj0/X1zUHY1ec/yufIWs4vE2Yc9G2JzdMT938bMU4l9ft1MtHi+GPCEB52rOk4vMBKM6M2EJXKAB/sc=
  - secure: 0ruueydcuH8bbQ6ZDA4bDvYnDd8shbf4XGer8ApuTEGG5mhXWljazdeY159xELDLMuBWcBQZjKhOpDAf5LX0DbkfqPuLdacq8RxueRMHVMJQE/iThp1RTF82OHz9lTqwrDZpC/4rmBx2nQez3nU3bKLdNB7XpJtYDJ6WsTGEAFca/54vt3LYQlUk0/m7zbz+qjNF6AQ/w06+dnZwr8xIAGmS9L4xrXyDvrs4AwCHNalacWxEwkoCw6yokpWS4oPcgwEgivNkU53yHv17OtQyDf20Z8oqFj5GkxSEz6AsGgj6PW2f5EHfc8jfGEJQifYto3SfBBKFmszT6TCTaMMdXkiinxlLsrO+Wk5onD2+91ydWVVu++QN8IC/ULtabTojAeYX16vBVTio+wf2FnkaqQACO4GMIg9zGlMNrvS6iUeCg5F8QRDW8GfT2WSmrD4f0ubc7Z0yKMfxMLmJQVasAy57T9HozKPUm0DAVT2brRhNM2VpEgFT4yaUm8Bex+swSernSvE2iaENLN+x1f09b5SHe090bzHTk7yDunnYLIRsY+nordg1ypcb6r+7eF/DWf4/muCIYxDCD7O+w8UhOAzCAzy+/6WBfu/Tlv1Zkh81if/Cq8tacJSgd49tDtNi4kMMeQfBEbujOa4iGIzX8jt5UJI9TQ3d1R5z3UxvBnA=
  - secure: JalIYVpI8ocDquYcImXI30RUO8CaONtUY/HZG0SZVTenWnyrugwmlhe2sWCt7wz4XlUN87GPIQ8UBZIazmsBmy0SPZTnT+WBA8oZRYU9DlHyEytXrmywpjfgO5oMJzU66M29wL2hQahU6+94QyIAtv6/3hB3fgbvyfPcyNZEWtcCmMPJO5+vGJLwjyRyevTy5K1CXy7Vw+yo4wHVQqOYRlaOPh1J/0sU7xue/uMJbKC5TAraHDJLLEXKPwVrX24mYsv91BwfeAJs3nlf1Pp3/cRiOS8zW38PW056DfYej/f9LQoSIQJV1NnFqlwNBm7HXVik2XU9PFs8gn+//4eULGtl4ELgeTlHdwKmHJVYb+1kuSSf7PAmG0ylsxiFID2dKKlzalr4S6BJgQJewyZ/+VWjzoWOiWqkuHJUsrxRZVKJzyrfEZpe3Dv3z5fXa55E+QZZ4Ih7P+BGp3CiJrj366241g3rk19HrkHpiPPgsuVBpvwAOs8goukxbs+KjlmPuUc+5XzkqyWVBNWAYwQYBbulg3z5eVf8oTEMqhEtjlDXhiOnsFnTBOx4w6PPcV0SMzRi+fgLZNgcNVa7izWB2M9hZ1BJaJknSbf9Q+LF0Mng1AzPCs7wGWPtNu8/tjYCzmKRs1kCdNQ+NPpaaDDYjI8EwtNSUGO0FqUsKJtMr+8=
  - secure: zxX+T+BtkoP66QNt2bmahDyOa3vPwrEHuXuYJuFGqnl/ukvJAVnPsAvLT/ghvGe7FnLlvllAt5IrmvLjOgc3C0kHQmPPXIG3USw/q8qbmF+vFVqNYbl5DMdhIt2w/vSI2Pv7KTuuC5IsOKKw35dmfJyovoHETNa77fme9DiiyLIk+qS7d5FZ9ZV7bS2NJvQgtcO9uGxdhRxms5gDSsPRvXB/tXnhgjSoo3Jvvi5IzNP4Azq5ellkDxZGuBVhxP3hNwl10miZxTPAR0KuOSUpUcR1ueAQtAAbyps/1m16OtiAZMg3pZhPNXjp8hJE4FrrwdSYgiuF0GzwlXtwa0Q75cDhe8wSBOfXCi3LcKF0QZKg6iVTwfeB7pQvx7ypzmnyxXifQva1wy9XMSFwg+TiQudR+laUNgD3CGrCbPEeruN63OZFspbmkGSbpOXFOZCWBn3ObDLFbpSOTA2uPsGnlkZFIdJNdhCuJdIq96HS0qYE91zkvQzPnemAas5rTNaZjw6V739ZF89Ax9/lKg7I0wOHTXVCzlZuZGZ75u12nEs/KObU+yHCnFIPdhpEbs6wow997wYOq0PYpMKuNOUtxhtqA4N1eM43AK5D1pFcJ0rIpiIGbdIOujF3Ja0E3D6omccENBqYOC6XhYG9nVZBG2uNjivWt681Mxwl2Ou44IY=
before_deploy:
- openssl aes-256-cbc -K $encrypted_e0b89c8592a5_key -iv $encrypted_e0b89c8592a5_iv
  -in .travis/client.pem.enc -out .travis/client.pem -d
