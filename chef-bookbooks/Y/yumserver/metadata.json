{"name":"yumserver","version":"2.1.0","description":"Installs/Configures yumserver & mirrors remote repos.","long_description":"# yumserver Cookbook\n[![Build Status](https://travis-ci.org/kemra102/yumserver-cookbook.svg?branch=master)](https://travis-ci.org/kemra102/yumserver-cookbook)\n\n#### Table of Contents\n\n1. [Overview](#overview)\n2. [Requirements](#requirements)\n3. [Attributes](#attributes)\n4. [Usage](#usage)\n    * [yumserver_mirror](#yumserver_mirror)\n    * [yumserver_rsync_mirror](#yumserver_rsync_mirror)\n5. [Contributing](#contributing)\n6. [License & Authors](#license-and-authors)\n\n## Overview\n\nThis cookbook allows you to mirror remote Yum repos and serve them up via NGINX.\n\n## Requirements\n\nRequires Chef 12.5 or later as this cookbook makes use of [Custom Resources](https://www.chef.io/blog/2015/10/08/chef-client-12-5-released/).\n\n## Attributes\n\n### yumserver::default\n| Key                       | Type    | Description                                | Default          |\n|:-------------------------:|:-------:|:------------------------------------------:|:----------------:|\n| ['yumserver']['basepath'] | String  | Where to store mirroed yum repos.          | /var/lib/yum-rep |\n\n## Usage\n\nYou always need to include the main recipe:\n\n```ruby\ninclude_recipe 'yumserver::default'\n```\n\nThis creates the `basepath` and installs the following packages:\n\n* yum-utils\n* createrepo\n* rsync\n\nAdditionally the recipe calls `yumserver::_nginx` which;\n\n* Sets-up the upstream NGINX repo.\n* Installs `nginx`.\n* Configures `nginx` to serve up the `basepath`.\n* Manages the `nginx` service.\n\n### yumserver_mirror\n\nEach Yum repo you wish to mirror can be defined using the `yumserver_mirror` custom resource.\n\nEach `yumserver_mirror` has the following attributes:\n\n| Attribute        | Type             | Description                                              | Default           |\n|:----------------:|:----------------:|:--------------------------------------------------------:|:-----------------:|\n| name             | String or Symbol | Resource name.                                           | N/A               |\n| local_path       | String           | The basepath where the repo should be stored.            | /var/lib/yum-repo |\n| repo_name        | String           | Name of the Yum repo.                                    | N/A               |\n| repo_description | String           | Description of the Yum repo.                             | N/A               |\n| repo_baseurl     | String           | Base URL of the Yum repo.                                | N/A               |\n| options          | String           | Additional options to pass to `reposync`.                | N/A               |\n| timeout          | Integer          | Timeout for the `reposync` command.                      | 600               |\n| use_repo         | Boolean          | If the repo should be availble for the yumserver to use. | true              |\n| repo_workers     | Integer          | Number of createrepo workers to start up.                | server cpu count  |\n\nTo Mirror EPEL for EL7 for example:\n\n```ruby\nyumserver_mirror 'epel7' do\n  repo_name 'epel'\n  repo_description 'Extra Packages for Enterprise Linux 7'\n  repo_baseurl 'https://dl.fedoraproject.org/pub/epel/7/x86_64/'\n  action :create\nend\n```\n\n### yumserver_rsync_mirror\n\nEach Yum repo you wish to mirror that provides an rsync endpoint can be defined using the `yumserver_rsync_mirror` custom resource.\n\nEach `yumserver_rsync_mirror` has the following attributes:\n\n| Attribute        | Type             | Description                                              | Default                                                    |\n|:----------------:|:----------------:|:--------------------------------------------------------:|:----------------------------------------------------------:|\n| name             | String or Symbol | Resource name.                                           | N/A                                                        |\n| local_path       | String           | The basepath where the repo should be stored.            | /var/lib/yum-repo                                          |\n| repo_name        | String           | Name of the Yum repo.                                    | N/A                                                        |\n| repo_description | String           | Description of the Yum repo.                             | N/A                                                        |\n| repo_url         | String           | URL of the Yum repo.                                     | N/A                                                        |\n| timeout          | Integer          | Timeout for the `rsync` command.                         | 600                                                        |\n| rsync_options    | String           | Options to pass to rsync.                                | -aHS --numeric-ids --delete --delete-delay --delay-updates |\n| use_repo         | Boolean          | If the repo should be availble for the yumserver to use. | true                                                       |\n\nTo Mirror EPEL for EL7 for example:\n\n```ruby\nyumserver_rsync_mirror 'epel7' do\n  repo_name 'epel'\n  repo_description 'Extra Packages for Enterprise Linux 7'\n  repo_url 'rsync://dl.fedoraproject.org/pub/epel/7/x86_64/'\n  action :create\nend\n```\n\n## Contributing\n\nIf you would like to contribute to this cookbook please follow these steps;\n\n1. Fork the repository on Github.\n2. Create a named feature branch (like `add_component_x`).\n3. Write your change.\n4. Write tests for your change (if applicable).\n5. Run the tests, ensuring they all pass.\n6. Submit a Pull Request using Github.\n\n## License and Authors\n\nLicense: [BSD 2-clause](https://tldrlegal.com/license/bsd-2-clause-license-\\(freebsd\\))\n\nAuthors:\n\n  * [Danny Roberts](https://github.com/kemra102)\n  * [All Contributors](https://github.com/kemra102/yumserver-cookbook/graphs/contributors)\n","maintainer":"Danny Roberts","maintainer_email":"danny@thefallenphoenix.net","license":"BSD-2-Clause","platforms":{"centos":">= 6.0","oracle":">= 6.0","redhat":">= 6.0","scientific":">= 6.0"},"dependencies":{"nginx_server":">= 1.0.1","zap":">= 0.10.0","yum":">= 3.5.2"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"source_url":"https://github.com/kemra102/yumserver-cookbook","issues_url":"https://github.com/kemra102/yumserver-cookbook/issues","chef_version":{},"ohai_version":{}}