{
  "name": "acme",
  "description": "ACME client cookbook for free and trusted SSL/TLS certificates from Let's Encrypt",
  "long_description": "ACME cookbook\n=============\n\n[![Build Status](https://travis-ci.org/schubergphilis/chef-acme.svg)](https://travis-ci.org/schubergphilis/chef-acme)\n[![Cookbook Version](https://img.shields.io/cookbook/v/acme.svg)](https://supermarket.chef.io/cookbooks/acme)\n\nAutomatically get/renew free and trusted certificates from Let's Encrypt (letsencrypt.org).\nACME is the [Automated Certificate Management Environment protocol][1] used by [Let's Encrypt][2].\n\n```\nStarting with v4.0.0 of the acme cookbook the acme_ssl_certificate provider has been removed! The TLS-SNI-01 validation method used by this provider been disabled by Let's Encrypt due to security concerns. Please switch to the acme_certificate provider in this cookbook to request and renew your certificate using the supported HTTP-01 validation method.\n```\n\nAttributes\n----------\n\n| Attribute      | Description                                                                                                                                                              | Default                                  |\n| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |  --------------------------------------: |\n| contact        | Contact information, default empty. Set to `mailto:your@email.com`                                                                                                       |  []                                      |\n| endpoint       | ACME server endpoint, Set to `https://acme-staging.api.letsencrypt.org` if you want to use the Let's Encrypt staging environment and corresponding certificates.         | `https://acme-v01.api.letsencrypt.org`   |\n| renew          | Days before the certificate expires at which the certificate will be renewed                                                                                             |  30                                      |\n| source_ips     | IP addresses used by Let's Encrypt to verify the TLS certificates, it will change over time. This attribute is for firewall purposes. Allow these IPs for HTTP (tcp/80). | ['66.133.109.36']                        |\n| private_key    | Private key content of registered account. Private keys identify the ACME client with the endpoint and are not transferable between staging and production endpoints.    | nil                                      |\n| key_size       | Default private key size used when resource property is not. Must be one out of: 2048, 3072, 4096.                                                                       | 2048                                     |\n\n\nRecipes\n-------\n### default\nInstalls the required acme-client rubygem.\n\nUsage\n-----\nUse the `acme_certificate` resource to request a certificate with the http-01 challange. The webserver for the domain for which you are requesting a certificate must be running on the local server. This resource only supports the http validation method. To use the tls-sni-01 challange, please see the resource below. Provide the path to your `wwwroot` for the specified domain.\n\n```ruby\nacme_certificate 'test.example.com' do\n  crt               '/etc/ssl/test.example.com.crt'\n  chain             '/etc/ssl/test.example.com-chain.crt'\n  key               '/etc/ssl/test.example.com.key'\n  wwwroot           '/var/www'\nend\n```\n\nIn case your webserver needs an already existing certificate when installing a new server you will have a bootstrap problem. Webserver cannot start without certificate, but the certificate cannot be requested without the running webserver. To overcome this a self-signed certificate can be generated with the `acme_selfsigned` resource.\n\n```ruby\nacme_selfsigned 'test.example.com' do\n  crt     '/etc/ssl/test.example.com.crt'\n  chain   '/etc/ssl/test.example.com-chain.crt'\n  key     '/etc/ssl/test.example.com.key'\nend\n```\n\n\nA working example can be found in the included `acme_client` test cookbook.\n\nProviders\n---------\n### certificate\n| Property            | Type    | Default  | Description                                            |\n|  ---                |  ---    |  ---     |  ---                                                   |\n| `cn`                | string  | _name_   | The common name for the certificate                    |\n| `alt_names`         | array   | []       | The common name for the certificate                    |\n| `crt`               | string  | nil      | File path to place the certificate                     |\n| `key`               | string  | nil      | File path to place the private key                     |\n| `key_size`          | integer | 2048     | Private key size. Must be one out of: 2048, 3072, 4096 |\n| `chain`             | string  | nil      | File path to place the certificate chain               |\n| `fullchain`         | string  | nil      | File path to place the certificate including the chain |\n| `owner`             | string  | root     | Owner of the created files                             |\n| `group`             | string  | root     | Group of the created files                             |\n| `wwwroot`           | string  | /var/www | Path to the wwwroot of the domain                      |\n| `ignore_failure`    | boolean | false    | Whether to continue chef run if issuance fails         |\n| `retries`           | integer | 0        | Number of times to catch exceptions and retry          |\n| `retry_delay`       | integer | 2        | Number of seconds to wait between retries              |\n| `endpoint`          | string  | nil      | The Let's Encrypt endpoint to use                      |\n| `contact`           | array   | []       | The contact to use                                     |\n\n### selfsigned\n| Property         | Type    | Default  | Description                                            |\n|  ---             |  ---    |  ---     |  ---                                                   |\n| `cn`             | string  | _name_   | The common name for the certificate                    |\n| `crt`            | string  | nil      | File path to place the certificate                     |\n| `key`            | string  | nil      | File path to place the private key                     |\n| `key_size`       | integer | 2048     | Private key size. Must be one out of: 2048, 3072, 4096 |\n| `chain`          | string  | nil      | File path to place the certificate chain               |\n| `owner`          | string  | root     | Owner of the created files                             |\n| `group`          | string  | root     | Group of the created files                             |\n\nExample\n-------\nTo generate a certificate for an apache2 website you can use code like this:\n\n```ruby\n# Include the recipe to install the gems\ninclude_recipe 'acme'\n\n# Set up contact information. Note the mailto: notation\nnode.override['acme']['contact'] = ['mailto:me@example.com']\n# Real certificates please...\nnode.override['acme']['endpoint'] = 'https://acme-v01.api.letsencrypt.org'\n\nsite = \"example.com\"\nsans = [\"www.#{site}\"]\n\n# Generate a self-signed if we don't have a cert to prevent bootstrap problems\nacme_selfsigned \"#{site}\" do\n  crt     \"/etc/httpd/ssl/#{site}.crt\"\n  key     \"/etc/httpd/ssl/#{site}.key\"\n  chain    \"/etc/httpd/ssl/#{site}.pem\"\n  owner   \"apache\"\n  group   \"apache\"\n  notifies :restart, \"service[apache2]\", :immediate\nend\n\n# Set up your webserver here...\n\n# Get and auto-renew the certificate from Let's Encrypt\nacme_certificate \"#{site}\" do\n  crt               \"/etc/httpd/ssl/#{site}.crt\"\n  key               \"/etc/httpd/ssl/#{site}.key\"\n  chain             \"/etc/httpd/ssl/#{site}.pem\"\n  wwwroot           \"/var/www/#{site}/htdocs/\"\n  notifies :restart, \"service[apache2]\"\n  alt_names sans\nend\n```\n\nTesting\n-------\nThe kitchen includes a `boulder` server to run the integration tests with, so testing can run locally without interaction with the online API's.\n\nContributing\n------------\n1. Fork the repository on Github\n2. Create a named feature branch (like `add_component_x`)\n3. Write your change\n4. Write tests for your change (if applicable)\n5. Run the tests, ensuring they all pass\n6. Submit a Pull Request using Github\n\nLicense and Authors\n-------------------\nAuthors: Thijs Houtenbos <thoutenbos@schubergphilis.com>\n\nCredits\n-------\nLetâ€™s Encrypt is a trademark of the Internet Security Research Group. All rights reserved.\n\n[1]: https://ietf-wg-acme.github.io/acme/\n[2]: https://letsencrypt.org/\n",
  "maintainer": "Thijs Houtenbos",
  "maintainer_email": "thoutenbos@schubergphilis.com",
  "license": "Apache-2.0",
  "platforms": {
    "ubuntu": ">= 16.04",
    "centos": ">= 0.0.0"
  },
  "dependencies": {
    "compat_resource": ">= 12.19"
  },
  "providing": {

  },
  "attributes": {

  },
  "recipes": {

  },
  "version": "4.0.0",
  "source_url": "https://github.com/schubergphilis/chef-acme",
  "issues_url": "https://github.com/schubergphilis/chef-acme/issues",
  "privacy": false,
  "chef_versions": [
    [
      ">= 12.5"
    ]
  ],
  "ohai_versions": [

  ],
  "gems": [

  ]
}
