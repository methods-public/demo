{"name":"geminabox-ng","version":"0.1.1","description":"Installs/Configures geminabox-ng","long_description":"# geminabox-ng: Gem in a Box Cookbook\n\n[![Build Status](https://travis-ci.org/qubitrenegade/chef-geminabox-ng.svg?branch=master)](https://travis-ci.org/qubitrenegade/chef-geminabox-ng) [![Maintainability](https://api.codeclimate.com/v1/badges/2d4143629249e19cca24/maintainability)](https://codeclimate.com/github/qubitrenegade/chef-geminabox-ng/maintainability) [![Dependency Status](https://beta.gemnasium.com/badges/github.com/qubitrenegade/chef-geminabox-ng.svg)](https://beta.gemnasium.com/projects/github.com/qubitrenegade/chef-geminabox-ng) \n\n\nOpinionated Cookbook to install and Configure [Gem in a Box](https://github.com/geminabox/geminabox)\n\nLargely inspired by previous versions:\n\n* [Aforward](https://github.com/aforward-obsolete/chef-geminabox)\n* [ChrisRoberts](https://github.com/chrisroberts/cookbook-geminabox)\n* [Reset](https://github.com/reset/geminabox-cookbook)\n\nAnd modernized, using [ruby_rbenv](https://github.com/sous-chefs/ruby_rbenv) and [poise-service](https://github.com/poise/poise-service)\n\n## Requirements\n\n### Cookbooks\n\n- [`poise-service`](https://github.com/poise/poise-service) - for cross platform service script creation.\n- [`ruby_rbenv`](https://github.com/sous-chefs/ruby_rbenv) - for Ruby binary installation and gem installation.\n\n### Gems\n\nThese are installed by the cookbook for the function of the application.\n\n- [`geminabox`](https://github.com/geminabox/geminabox)\n- [`unicorn`](https://bogomips.org/unicorn/)\n\n### Platforms\n\nThe following platforms have been tested with test kitchen.\n\n- CentOS 6+\n- Ubuntu 14.04\n\n### Chef\n\n- 12.7+\n\n## Attributes\n\nThis cookbook is designed to provide [Gem in a Box](https://github.com/geminabox/geminabox) out of the box with no or minimal customization.  However, there are a number of optional settings that can be tuned.  Refer to the [Default Attributes](https://github.com/qubitrenegade/chef-geminabox-ng/blob/master/attributes/default.rb) file for a full listing of available tunable attributes.  The most interesting attributes outlined below.\n\n### Geminabox User\n\n- `node['geminabox-ng']['user']['name']` - The username the geminabox process will run as. Defaults to `geminabox`\n- `node['geminabox-ng']['name']['home_dir'] - Home Directory of `node['geminabox-ng']['name']` user.  Defaults to `/opt/geminabox`, full path required.\n\n### Geminabox Server Config\n\nThe following config options are offered for customization, in most cases the default is the most sane.  Refer to the [Gem in a Box](https://github.com/geminabox/geminabox) page for information on options.\n\n- `node['geminabox-ng-']['config']['build_legacy'] = false`\n- `node['geminabox-ng-']['config']['rubygems_proxy'] = true`\n- `node['geminabox-ng-']['config']['allow_remote_failure'] = true`\n\n### Ruby Version,\n\n- `node['geminabox-ng-']['ruby_verison']` - version of Ruby to install.  Defaults to 2.4.2\n\n### Unicorn Server\n\nUnicorn runs as middleware between Nginx and the Ruby appliation.\n\n- `node['geminabox-ng-']['unicorn']['worker_processes']` - Number of worker processes.  Default to 4.\n- `node['geminabox-ng-']['unicorn']['port']` - port Unicorn should listen on.\n\n### Nginx Server\n\nUhh.... none right now...  Port is 8000 and it listens for unicorn on 8080... (so even though you can set `node['geminabox-ng-']['unicorn']['port']` it doesn't do anything yet... see the [TODO](https://github.com/qubitrenegade/chef-geminabox-ng#TODO)\n\n### Run List\n\nBy default, this cookbook runs all recipes if the default recipe is included.  This is managed via the `node['geminabox-ng']['run_list']` attribute.  Instead of including or excluding recipes from your node run list, you can disable specific recipes by setting them to `false`. e.g. the following will disable user creation/mangement:\n\n```\nnode['geminabox-ng']['run_list']['user'] = false\n```\n\nPlease refer to [Recipes](https://github.com/qubitrenegade/chef-geminabox-ng#cookbooks) in the Usage section below for a full list of recipe names.\n\n##Usage\n\ninclude `recipe[geminabox-ng::default]` in your run list or policy file.\n\nThis cookbook is designed to be an out-of-the-box Gem in a Box.  Additional work is required on the Nginx config to enable SSL, sockets, and simple auth... however, it should work for most simple use cases.\n\n### Recipes\n\nThis Cookbook performs a number of different tasks which have been isolated into their own recipes.  The intention is that any one of these tasks can be overridden in a parent \"wrapper\" cookbook, e.g.: you already have a process for creating users so you chose not to use the users cookbook.  In such cases, node attributes (such as `node['geminabox-ng']['user']['name']`) will still need to be set.\n\nThe following recipes are provided:\n\n- `user` - Creates user and home directory as determined by `node['geminabox-ng']['user']` attributes.\n- `ruby` - Leverages [`ruby_rbenv`](https://github.com/sous-chefs/ruby_rbenv) to install rbenv and ruby\n- `server` - The main recipe in the cookbook.  Installs the needed gems [`geminabox`](https://github.com/geminabox/geminabox), [`unicorn`](https://bogomips.org/unicorn/), sets up unicorn config, and creates and starts appropriate init/upstart/systemd script for your system to start geminabox service.\n- `proxy` - Installs and configures reverse proxy for Unicorn service.  Requires further work... not currently very configurable.\n\n## Development\n\n- Source hosted at [GitHub][repo]\n- Report issues/Questions/Feature requests on [GitHub Issues][issues]\n\nPull requests are very welcome! Make sure your patches are well tested.\n\n## Testing\n\nThis cookbook comes with a full suite of ChefSpec and InSpec tests.  All patches must pass existing tests.  Additional tests required for new features. To run tests use `kitchen test`\n\n## TODO:\n\n- Get travis to work...\n- Update Nginx template to be confiurable\n- Update Nginx template to handle ssl\n\n## License and Author\n\n- Author:: qubitrenegade ([qbitrenegade@gmail.com](mailto:qbitrenegade@gmail.com))\n\nCopyright 2017, qubitrenegade\n\n```\nhttps://opensource.org/licenses/MIT\n```\n","maintainer":"QubitRenegade","maintainer_email":"qubitrenegade@gmail.com","license":"MIT","platforms":{"centos":">= 0.0.0","rhel":">= 0.0.0","ubuntu":">= 0.0.0","arch":">= 0.0.0"},"dependencies":{"ruby_rbenv":">= 0.0.0","poise-service":">= 0.0.0"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"source_url":"https://github.com/qubitrenegade/chef-geminabox-ng/tree/v0.1.1","issues_url":"https://github.com/qubitrenegade/geminabox-ng/issues","chef_version":[[">= 12.1"]],"ohai_version":[]}