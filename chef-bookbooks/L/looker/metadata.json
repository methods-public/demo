{"name":"looker","version":"0.4.0","description":"Installs/Configures Looker","long_description":"Looker Cookbook\n====\n\n[![Cookbook Version](https://img.shields.io/cookbook/v/looker.svg)](https://community.opscode.com/cookbooks/looker)\n\nThis is a cookbook for setting up an on-premise install of [Looker](http://looker.com), the business intelligence software. \n\nPlease note, this is not an official Looker product; but made by someone who's a customer|user. \n\n\nProduction Deployment \n-----\n\nWith the standard set of defaults, this cookbook will install looker very similarly to the [official looker documentation](https://docs.looker.com/setup-and-management/on-prem-install). Putting things in the the standard locations (`/home/looker/looker...`),  creating a `looker` user and group on the machine, and using the self-signed certificate. \n \nYou can override the attributes in a cookbook, role, or environment:\n\n```ruby\nnode['looker']['looker_user']  = 'looker'\nnode['looker']['looker_group'] = 'looker'\nnode['looker']['home_dir']     = '/home/looker/'\n```\n\nVersions\n----\nThe default version of looker installed is 5.2. If you'd like to specify a different version, you can override the major and minor versions to the specific versions you require. Be advised, this will only work with _final_ versions of looker, and not pre-release versions. \n\n```ruby\nnode['looker']['major_version'] = '4'\nnode['looker']['minor_version'] = '22'\n```\n\nJava JDK\n-----\nNOTE: Looker 4.2 and greater require a java JDK version of Oracle Java 8 or greater, and, by default, will be part of this installation. You can override the specific java settings in your environment with:\n\n```ruby\nnode['java']['jdk_version']    = '8'\nnode['java']['install_flavor'] = 'oracle'\n```\n\nSSL\n-----\nIf you'd like to have your looker use a proper [SSL certificate](https://docs.looker.com/setup-and-management/on-prem-install/ssl-setup), you can provide override the `[:looker][:use_custom_ssl]` attribute to be ` true`, and set the following values: \n\n```ruby\nlooker: {\n  ssl: {\n    aws_access_key_id: 'my-access-key',\n    aws_secret_access_key: 'my-secret-key',\n    s3_bucket: 'my-bucket',\n    certificate_key_path: '/path/to/my-cert.key',\n    certificate_path: '/path/to/my-cert.pem',\n  }\n}\n```\n\nThis allows you to point to a given s3 bucket and grab both your certificate `.pem` file, and it's corresponding `.key`, and the `looker::ssl` recipe will setup a java key store, and give those credentials to the looker script. See [the attributes/ssl.rb](https://github.com/deliv/looker/blob/master/attributes/ssl.rb) for more details. \n\nUsage\n-----\n\nSimply include the `looker` recipe wherever you would like looker to be installed. \n\n\nRequirements\n-----\n\nChef 12+\nJava JDK 8+\n\n### Platform\n\n* Ubuntu 16.04\n* CentOS 7.2\n\nAttributes\n-----\n\nSee `attributes/default.rb` for default values.\n\n| Attribute  | Note | Default Value |\n| ------------- | ------------- | ---------------------------|\n| `node['looker']['looker_user']`| The user looker should be run as, and will be created in the `looker::user` recipe. | `'looker'` |\n|`node['looker']['looker_group']`| The group the looker user should belong to, and will be created in the `looker::user` recipe. | `'looker'` |\n|`node['looker']['home_dir']` | The home directory for the `looker` user | `'/home/looker/'` |\n|`node['looker']['looker_dir']` | The looker wokring directory. | `/home/looker/looker`, per the looker convention |\n|`node['looker']['looker_jar_file']` | The name of the looker jarfile | `'looker.jar'` |\n|`node['looker']['looker_script_name']` |  The execution script to start the looker process. |  `'looker'` |\n|`node['looker']['forward_to_443']` | Boolean toggle for setting iptables to forward requests to :443 to :9999 | `true` | \n|`node['looker']['use_custom_ssl']` | Boolean toggle for using a [custom SSL certificate](#ssl). | `false` |\n|`node['looker']['looker_user_ulimit']` | The ulimit to be set for the looker user. | `4096` |\n|`node['looker']['major_version']` | The major version of looker to install.| `5` |\n|`node['looker']['minor_version']` | The minor version of looker to install. | `2` | \n\n\nRecipes\n-----\n\n### default\n\nInclude the default recipe in a run list or recipe to install looker. \n\n### setup\n\nIncluded as part of `default`, this recipe configures and installs the looker application, the required JDK dependancies, and starts the looker service. \n\n### user\n\nSets up the looker user, group and home directory. This is included by `default.rb`. \n\n### ssl\n\nConfigures a java keystore, and generate and installs custom certificates for your looker server.\n\n### stop\n\nStops the looker service.\n\n### start\n\nStarts the looker service. \n\nLicense and Author\n-----\nAuthor: Barclay Loftus (<barclay@deliv.co>)\n\nCopyright (c) 2017 Deliv\n\n\nMIT License\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n","maintainer":"Deliv","maintainer_email":"eng@deliv.co","license":"MIT","platforms":{"ubuntu":">= 0.0.0","centos":">= 0.0.0"},"dependencies":{"java":">= 0.0.0","aws":">= 0.0.0","nginx":">= 0.0.0"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{"looker::default":"Installs the looker application (calls to `setup`)","looker::setup":"Installs the looker application","looker::user":"Installs the looker user, group and home directory","looker::ssl":"Sets up a custom SSL certificate for the looker application","looker::stop":"Stops the looker service","looker::start":"Starts the looker service"},"source_url":"https://github.com/deliv/looker","issues_url":"https://github.com/deliv/looker/issues","chef_version":[[">= 12.1"]],"ohai_version":[]}