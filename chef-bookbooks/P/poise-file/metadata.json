{"name":"poise-file","version":"1.0.0","description":"A Chef cookbook for advanced file managent.","long_description":"# Poise-File Cookbook\n\n[![Build Status](https://img.shields.io/travis/poise/poise-file.svg)](https://travis-ci.org/poise/poise-file)\n[![Gem Version](https://img.shields.io/gem/v/poise-file.svg)](https://rubygems.org/gems/poise-file)\n[![Cookbook Version](https://img.shields.io/cookbook/v/poise-file.svg)](https://supermarket.chef.io/cookbooks/poise-file)\n[![Coverage](https://img.shields.io/codecov/c/github/poise/poise-file.svg)](https://codecov.io/github/poise/poise-file)\n[![Gemnasium](https://img.shields.io/gemnasium/poise/poise-file.svg)](https://gemnasium.com/poise/poise-file)\n[![License](https://img.shields.io/badge/license-Apache_2-blue.svg)](https://www.apache.org/licenses/LICENSE-2.0)\n\nA [Chef](https://www.chef.io/) cookbook to do something.\n\n## Quick Start\n\nTo write out a JSON file from node attributes:\n\n```ruby\npoise_file '/etc/myapp.json' do\n  content node['myapp']\nend\n```\n\nTo update a file in place:\n\n```ruby\npoise_file '/etc/hosts' do\n  content 'otherhostname'\n  pattern 'myhostname'\n  pattern_location :replace\nend\n```\n\n## Resources\n\n### `poise_file`\n\nThe `poise_file` resource extends the core `file` resource to support formats\nand patterns.\n\n#### Formats\n\nIf the file path ends with `.json` or `.yaml`/`.yml` and the `content` property\nis a Hash or Array object, it will be automatically converted. You can also\nexplicitly set the `format` property to `:json` or `:yaml` to force formatting.\n\n#### Patterns\n\nUsing replacement patterns allows editing files in-place in a structured manner.\nThis is similar to the `FileEdit` API or `line` cookbook/resource. The `pattern`\nproperty takes a RegExp object or string pattern to match against. The value of\n`pattern_location` controls how the `content` gets used relative to the `pattern`.\n\n* `:replace` – `content` replaces the matching section. If the pattern does not match, the content is not changed.\n* `:replace_or_add` – `content` replaces the matching section. If the pattern does not match, the content is appended to the end of the file.\n* `:before` – `content` is inserted immediately before the matching section. If the pattern does not match, the content is not changed.\n* `:after` – `content` is inserted immediately after the matching section. If the pattern does not match, the content is not changed.\n\nYou can also pass a Proc to perform arbitrary manipulations:\n\n```ruby\npoise_file '/etc/myapp.conf' do\n  pattern proc {|existing_content| existing_content.tr('a-z', 'n-za-m') }\nend\n```\n\nIf you have an in-place editing scenario not handled by these operations, please\nlet me know by [filing an issue](https://github.com/poise/poise-file/issues/new).\n\n#### Actions\n\nAll actions are the same as the core `file` resource.\n\n#### Properties\n\n* `format` – File serialization format. One of `:text`, `:json`, or `:yaml`.\n  *(default: auto-detect)*\n* `pattern` – Regular expression pattern or object to search for.\n* `pattern_location` – Mode to use for the `pattern` replacement. One of\n  `:replace`, `:replace_or_add`, `:before`, `:after`. *(default: `:replace_or_add`)*\n\nAll other properties as the same as the core `file` resource.\n\n## Sponsors\n\nDevelopment sponsored by [SAP](https://www.sap.com/).\n\nThe Poise test server infrastructure is sponsored by [Rackspace](https://rackspace.com/).\n\n## License\n\nCopyright 2017, Noah Kantrowitz\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\nhttp://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n","maintainer":"Noah Kantrowitz","maintainer_email":"noah@coderanger.net","license":"Apache-2.0","platforms":{"aix":">= 0.0.0","amazon":">= 0.0.0","arch":">= 0.0.0","centos":">= 0.0.0","chefspec":">= 0.0.0","debian":">= 0.0.0","dragonfly4":">= 0.0.0","fedora":">= 0.0.0","freebsd":">= 0.0.0","gentoo":">= 0.0.0","ios_xr":">= 0.0.0","mac_os_x":">= 0.0.0","nexus":">= 0.0.0","omnios":">= 0.0.0","openbsd":">= 0.0.0","opensuse":">= 0.0.0","oracle":">= 0.0.0","raspbian":">= 0.0.0","redhat":">= 0.0.0","slackware":">= 0.0.0","smartos":">= 0.0.0","solaris2":">= 0.0.0","suse":">= 0.0.0","ubuntu":">= 0.0.0","windows":">= 0.0.0"},"dependencies":{"poise":"~> 2.0"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"source_url":"https://github.com/poise/poise-file","issues_url":"https://github.com/poise/poise-file/issues","chef_version":[["< 14",">= 12.1"]],"ohai_version":[]}