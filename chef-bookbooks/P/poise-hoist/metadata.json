{"name":"poise-hoist","version":"1.2.1","description":"Automatically hoist environment level-attributes from Policyfiles.","long_description":"# Poise-Hoist\n\n[![Build Status](https://img.shields.io/travis/poise/poise-hoist.svg)](https://travis-ci.org/poise/poise-hoist)\n[![Gem Version](https://img.shields.io/gem/v/poise-hoist.svg)](https://rubygems.org/gems/poise-hoist)\n[![Cookbook Version](https://img.shields.io/cookbook/v/poise-hoist.svg)](https://supermarket.chef.io/cookbooks/poise-hoist)\n[![Coverage](https://img.shields.io/codecov/c/github/poise/poise-hoist.svg)](https://codecov.io/github/poise/poise-hoist)\n[![Gemnasium](https://img.shields.io/gemnasium/poise/poise-hoist.svg)](https://gemnasium.com/poise/poise-hoist)\n[![License](https://img.shields.io/badge/license-Apache_2-blue.svg)](https://www.apache.org/licenses/LICENSE-2.0)\n\nA cookbook to help automate \"attribute hoisting\" when using Chef with Policyfiles.\n\nAttribute hoisting is a way to store per-policy-group attributes in a policy to\nallow similar settings to environment-level attributes in a pre-Policyfile\nworkflow. Just put the desired attributes under a top-level key matching the\nname of the policy group and add `poise-hoist` either to your run list or to\nyour cookbook dependencies.\n\n## Quick Start\n\nIn your Policyfile:\n\n```ruby\nname 'myapp'\n\nrun_list 'poise-hoist', 'myapp'\n\n# Default value for all groups.\ndefault['myapp']['debug_mode'] = true\n\n# Per-group values, will be hoisted on top of the default above.\ndefault['staging']['myapp']['debug_mode'] = 'extra_verbose'\ndefault['prod']['myapp']['debug_mode'] = false\n```\n\nand then in your recipe code:\n\n```ruby\nsome_resource 'name' do\n  debug_mode node['myapp']['debug_mode']\nend\n```\n\nThis automatically hoists up policy attributes set under a top-level key\nmatching the name of the policy group of the current node.\n\n## Requirements\n\nChef 12.2 or newer is required.\n\n## Use With Test Kitchen\n\nWhen testing policies with the `policyfile_zero` provisioner plugin, the policy\ngroup will always be `local`.\n\n```ruby\ndefault['local']['myapp']['debug_mode'] = true\n```\n\n## Environment Shim\n\nFor older cookbooks still expecting to use `node.chef_environment`, by default\nthat method will be patched to return the policy group label instead. This can\nbe disabled by setting `node['poise-hoist']['hoist_chef_environment'] = false`.\n\n## Data Bag Attributes\n\nTo pull in data from a data bag, set `default['poise-hoist']['data_bag'] = 'the name of the data bag'`\nin your Policyfile. It will look for an item in the specified data bag using the\nname of the node and then the name of policy group. You can use this in\ncombination with the normal group-level hoisting to have a different data bag\nname for some policy groups.\n\nThis can be useful in combination with attributes from the Policyfile to provide\nimmediate overrides outside of the \"compile and push\" cycle of the policy system.\n\n## Sponsors\n\nDevelopment sponsored by [Bloomberg](http://www.bloomberg.com/company/technology/).\n\nThe Poise test server infrastructure is generously sponsored by [Rackspace](https://rackspace.com/). Thanks Rackspace!\n\n## License\n\nCopyright 2016-2017, Noah Kantrowitz\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\nhttp://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n","maintainer":"Noah Kantrowitz","maintainer_email":"noah@coderanger.net","license":"Apache-2.0","platforms":{"aix":">= 0.0.0","amazon":">= 0.0.0","arch":">= 0.0.0","centos":">= 0.0.0","chefspec":">= 0.0.0","debian":">= 0.0.0","dragonfly4":">= 0.0.0","fedora":">= 0.0.0","freebsd":">= 0.0.0","gentoo":">= 0.0.0","ios_xr":">= 0.0.0","mac_os_x":">= 0.0.0","nexus":">= 0.0.0","omnios":">= 0.0.0","openbsd":">= 0.0.0","opensuse":">= 0.0.0","oracle":">= 0.0.0","raspbian":">= 0.0.0","redhat":">= 0.0.0","slackware":">= 0.0.0","smartos":">= 0.0.0","solaris2":">= 0.0.0","suse":">= 0.0.0","ubuntu":">= 0.0.0","windows":">= 0.0.0"},"dependencies":{},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"source_url":"https://github.com/poise/poise-hoist","issues_url":"https://github.com/poise/poise-hoist/issues","chef_version":[["< 14",">= 12.2"]],"ohai_version":[]}