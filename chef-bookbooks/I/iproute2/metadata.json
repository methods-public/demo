{"name":"iproute2","version":"2.0.1","description":"Provides custom resources for iproute2 commands","long_description":"# iproute2 Cookbook\n\n\n[![Build Status](https://travis-ci.org/karthik-altiscale/iproute2-cookbook.svg?branch=master)](https://travis-ci.org/karthik-altiscale/iproute2-cookbook) [![Cookbook Version](https://img.shields.io/cookbook/v/iproute2.svg)](https://supermarket.chef.io/cookbooks/iproute2)\n\nProvides custom resources for [iproute](http://manpages.ubuntu.com/manpages/trusty/man8/ip.8.html) commands\n\n* ip-netns\n* ip-link\n* ip-address\n* ip-route\n\n#### todo\n* ip-tunnel\n\n#### not planning to do anytime soon\n| ip-rule | ip-xfrm | ip-maddress | ip-addrlabel | ip-l2tp | ip-monitor | ip-mroute(8) | ip-neighbour | ip-ntable | ip-tcp_metrics\n\n### Platforms\n\n- Debian/Ubuntu\n- RHEL/CentOS/Scientific/Amazon/Oracle\n- Fedora\n- OpenSUSE\n\n### Chef\n\n- Chef 12.7+\n\n## Recipes\n\nInstalls iproute package\n\n## Custom resources\n\n## ip-netns\n---\n\nAction :add (default)\n\n```\nip_netns 'vpn' do\n  action :add\nend\n```\n\nAction :delete\n\n```\nip_netns 'vpn' do\n  action :delete\nend\n```\n\n## ip-link\n---\n\n#### Ethernet interface\n\nAction :add (default)\n**Note* Does :add and then :set\n\n```\nip_link 'dumb0' do\n  action :add\n  type 'dummy'\n  state 'down'\n  netns 'vpn'\n  mtu 900\n  mac 'aa:bb:cc:00:11:22'\n  alias_name 'i am alias of nsalias0'\n  qlen 12345\n  ip '1.1.1.1/28'\nend\n```\n\nAction :set\n\n```\nip_link 'dumb0' do\n  action :set\n  state 'down'\n  netns 'vpn'\n  mtu 900\n  mac 'aa:bb:cc:00:11:22'\n  alias_name 'i am alias of nsalias0'\n  qlen 12345\n  ip '1.1.1.1/28'  \nend\n```\n\nAction :delete\n\n```\nip_link 'nsdeltest0' do\n  type 'dummy'\n  netns 'vpn'\n  state 'down'\n  action :delete\nend\n```\n\nNote: Parameter `state 'down'` downs the interface before removing\n\n#### VLAN\n---\nAction :add (default)\n\n```\nip_link 'vlan.200' do\n  link 'nsvlan0'\n  id 200\n  type 'vlan'\n  netns 'vlanns'\n  mtu 1400\n  mac 'aa:00:aa:00:aa:00'\n  qlen 300\n  alias_name 'i am vlan in netns'\n  ip ['1.1.1.1/28', '2.2.2.2']\nend\n```\n\nAction :delete\n\nip_link 'nsvlan.del0' do\n  action :add\n  netns 'vlanns'\n  link 'nsvlandel0'\n  type 'vlan'\n  state 'down'\n  id 200\n  alias_name 'i should exist in netns'\nend\n\n#### VETH PAIR\n---\n\nAction :add\n\nCreates a pair of veth interfaces nsveth1 and nsveth2 and assigns them to appropriate netns\n\n```\nip_link 'nsveth1' do\n  type 'veth'\n  peer 'nsveth2'\n  netns 'aside'\n  alias_name 'i am one end'\n  ip Array.new(4) { |i| \"169.254.0.#{i + 1}\" }\nend\n```\n\n```\nip_link 'nsveth2' do\n  action :set\n  type 'veth'\n  netns 'zside'\n  alias_name 'i am the other end'\nend\n```\n\nProperties\n* type: can be ..... <#todo>\n* state: can be up or down, default is *up*\n* netns: netns to which link should be in. make sure netns support is there. \n* mtu: mtu\n* mac: update mac. :warning: cookbook does not take care of restarting network or link :warning:\n* alias_name: update alias name .. (`alias` is a reserved name so using `alias_name`)\n* qlen: update qlen\n* link: link on which vlan to be created. used with *vlan* type\n* id: vlan id. used with *vlan* type\n* peer: used with *veth* type \n* ip: Add ip address(es) to the link\n\n\n## ip-addr\n---\n\nAction :add (default)\n\n```\nip_addr 'eth0.100' do\n  action :add\n  ip ['1.1.1.1/32', '2.2.2.2/32']\nend\n```\n\nAction :delete\n\n```\nip_addr 'eth0.100' do\n  action :add\n  ip '2.2.2.2/32'\nend\n```\n\nAction :flush\n\n```\nip_addr 'eth0.100' do\n  action :flush\nend\n```\n\nAction :flush_and_set\n```\nip_addr 'eth0.100' do\n  action :flush_and_set\n  ip '192.168.1.2/24'\nend\n```\n\n## ip-route\n---\n\nAction :add (default)\n\n```\nip_route '10.12.12.0/24' do\n  netns 'router'\n  via '192.168.3.1'\n  dev 'routetester0'\n  metric 1234\n  table 221\n  src '192.168.3.1'\n  realm  133\n  mtu 9001\n  mtu_lock true\n  window 1024\n  rtt '12s'\nend\n\n```\n","maintainer":"karthik","maintainer_email":"kumarkarthikn@gmail.com","license":"Apache-2.0","platforms":{"ubuntu":">= 12.04","debian":">= 7.0","redhat":">= 5.0","centos":">= 5.0","fedora":">= 0.0.0","scientific":">= 0.0.0","amazon":">= 0.0.0","oracle":">= 0.0.0"},"dependencies":{},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"source_url":"https://github.com/karthik-altiscale/iproute2-cookbook","issues_url":"https://github.com/karthik-altiscale/iproute2-cookbook/issues","chef_version":[[">= 12.5"]],"ohai_version":[]}