{"name":"screwdriver","version":"0.6.0","description":"Installs/Configures Screwdriver","long_description":"screwdriver Cookbook\n====================\n\nThis cookbook sets up a Screwdriver CI/CD service by Docker Compose.\n\n## Contents\n\n- [Contents](#contents)\n- [Requirements](#requirements)\n    - [platforms](#platforms)\n    - [packages](#packages)\n    - [cookbooks](#cookbooks)\n- [Attributes](#attributes)\n- [Usage](#usage)\n    - [Recipes](#recipes)\n        - [screwdriver::default](#screwdriverdefault)\n        - [screwdriver::docker-compose](#screwdriverdocker-compose)\n    - [Role Examples](#role-examples)\n    - [SSL server keys and certificates management by ssl_cert cookbook](#ssl-server-keys-and-certificates-management-by-ssl_cert-cookbook)\n    - [JWT private and public keys management by Chef Vault](#jwt-private-and-public-keys-management-by-chef-vault)\n    - [Cookie password management by Chef Vault](#cookie-password-management-by-chef-vault)\n    - [Secrets encryption password management by Chef Vault](#secrets-encryption-password-management-by-chef-vault)\n    - [Database username management (for MySQL, PostgreSQL,...) by Chef Vault](#database-username-management-for-mysql-postgresql-by-chef-vault)\n    - [Database password management (for MySQL, PostgreSQL,...) by Chef Vault](#database-password-management-for-mysql-postgresql-by-chef-vault)\n    - [Database root password management (for MySQL, PostgreSQL,...) by Chef Vault](#database-root-password-management-for-mysql-postgresql-by-chef-vault)\n    - [S3 (compatible) server access key management by Chef Vault](#s3-compatible-server-access-key-management-by-chef-vault)\n    - [OAuth client ID, secret and GitHub webhook secret management by Chef Vault](#oauth-client-id-secret-and-github-webhook-secret-management-by-chef-vault)\n    - [Note](#note)\n        - [Database Initialization](#database-initialization)\n- [License and Authors](#license-and-authors)\n\n## Requirements\n\n### platforms\n- Debian >= 9.0\n- Ubuntu >= 14.04\n- CentOS, RHEL >= 7.3\n\n### packages\n- none.\n\n### cookbooks\n- `docker-grid`\n- `ssl_cert`\n\n## Attributes\n\n|Key|Type|Description, example|Default|\n|:--|:--|:--|:--|\n|`['screwdriver']['with_ssl_cert_cookbook']`|Boolean|See `attributes/default.rb`|`false`|\n|`['screwdriver']['ssl_cert']['ca_names']`|Array|Internal CA names that are imported by the ssl_cert cookbook.|`[]`|\n|`['screwdriver']['ssl_cert']['common_name']`|String|Server common name for TLS|`node['fqdn']`|\n|`['screwdriver']['jwt_private_key_vault_item']`|Hash|Optional, Sets a JWT private key from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['jwt_public_key_vault_item']`|Hash|Optional, Sets a JWT public key from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['cookie_password_vault_item']`|Hash|Optional, Sets a session cookie password from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['password_vault_item']`|Hash|Optional, Sets a password for secrets encryption from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['db_username_vault_item']`|Hash|Optional, Sets a database username from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['db_password_vault_item']`|Hash|Optional, Sets a database password from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['db_root_password_vault_item']`|Hash|Optional, Sets a database password for the root user from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['s3_access_key_id_vault_item']`|Hash|Optional, Sets a S3 access key id from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['s3_access_key_secret_vault_item']`|Hash|Optional, Sets a S3 access key secret from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['ui']['tls_setup_mode']`|String|`'reverseproxy'` only. Note: [_Add TLS support to UI docker container #377_](https://github.com/screwdriver-cd/screwdriver/issues/377)|`'reverseproxy'`|\n|`['screwdriver']['api']['config']`|Hash|This hash object is expanded to a `/config/local.yaml` file in the API Docker container.|See `attributes/default.rb`|\n|`['screwdriver']['api']['scms_vault_items']`|Hash|This hash contains Chef Vault item definitions of SCM's secrets.|See `attributes/default.rb`|\n|`['screwdriver']['store']['backend']`|String|`nil` (in memory) or `'minio'`.|`nil`|\n|`['screwdriver']['store']['config']`|Hash|This hash object is expanded to a `/config/local.yaml` file in the Store Docker container.|See `attributes/default.rb`|\n|`['screwdriver']['docker-compose']['import_ca']`|Boolean|whether import internal CA certificates or not.|`false`|\n|`['screwdriver']['docker-compose']['app_dir']`|String|Path string.|`\"#{node['docker-grid']['compose']['app_dir']}/screwdriver\"`|\n|`['screwdriver']['docker-compose']['bin_dir']`|String|Path string.|`\"#{node['screwdriver']['docker-compose']['app_dir']}/bin\"`|\n|`['screwdriver']['docker-compose']['config_dir']`|String|Path string.|`\"#{node['screwdriver']['docker-compose']['app_dir']}/config\"`|\n|`['screwdriver']['docker-compose']['data_dir']`|String|Path string.|`\"#{node['screwdriver']['docker-compose']['app_dir']}/data\"`|\n|`['screwdriver']['docker-compose']['etc_dir']`|String|Path string.|`\"#{node['screwdriver']['docker-compose']['app_dir']}/etc\"`|\n|`['screwdriver']['docker-compose']['jwt_private_key_reset']`|Boolean|Only available if the JWT key pair is automatically generated by Chef.|`false`|\n|`['screwdriver']['docker-compose']['jwt_private_key_vault_item']`|Hash|**DEPRECATED**: use `['screwdriver']['jwt_private_key_vault_item']`. Optional, Sets a JWT private key from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['docker-compose']['jwt_public_key_vault_item']`|Hash|**DEPRECATED**: use `['screwdriver']['jwt_public_key_vault_item']`. Optional, Sets a JWT public key from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['docker-compose']['cookie_password_vault_item']`|Hash|**DEPRECATED**: use `['screwdriver']['cookie_password_vault_item']`. Optional, Sets a session cookie password from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['docker-compose']['password_vault_item']`|Hash|**DEPRECATED**: use `['screwdriver']['password_vault_item']`. Optional, Sets a password for secrets encryption from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['docker-compose']['oauth_client_id_vault_item']`|Hash|**DEPRECATED**: use `['screwdriver']['api']['scms_vault_items']`. Required, Sets a OAuth client ID for SCM from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['docker-compose']['oauth_client_secret_vault_item']`|Hash|**DEPRECATED**: use `['screwdriver']['api']['scms_vault_items']`. Required, Sets a OAuth secret for SCM from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['docker-compose']['webhook_github_secret_vault_item']`|Hash|**DEPRECATED**: use `['screwdriver']['api']['scms_vault_items']`. Required for GitHub, Sets a secret for GitHub webhook from Chef Vault. See `attributes/default.rb`|`{}`|\n|`['screwdriver']['docker-compose']['config']`|Hash|`docker-compose.yml` configurations.|See `attributes/default.rb`|\n\n## Usage\n\n### Recipes\n\n#### screwdriver::default\n\nThis recipe does nothing.\n\n#### screwdriver::docker-compose\n\nThis recipe generates JWT key pair and a `docker-compose.yml` file for the Screwdriver CI/CD service.\n\n### Role Examples\n\n- `roles/screwdriver.rb`\n\n```ruby\nname 'screwdriver'\ndescription 'screwdriver'\n\nui_port     = '9000'\napi_port    = '9001'\nstore_port  = '9002'\n\nrun_list(\n  'role[docker]',\n  'recipe[screwdriver::docker-compose]',\n)\n\noverride_attributes(\n  'screwdriver' => {\n    'api' => {\n      'config' => {\n        'executor' => {\n          'plugin' => 'docker',\n          'docker' => {\n            'options' => {\n              'docker' => {\n                'socketPath' => '/var/run/docker.sock',\n              },\n              'launchVersion' => 'stable',\n            },\n          },\n        },\n        'scms' => {\n          'github.com' => {\n            'plugin' => 'github',\n            'config' => {\n              # OAuth Callback URL: \"http://#{node['fqdn']}:9001/v4/auth/login/web\"\n              'username' => 'ci-tool',\n              'email' => 'citool@mail.example.com',\n              'privateRepo' => false,\n            },\n          },\n        },\n      },\n      'scms_vault_items' => {\n        'github.com' => {\n          'oauthClientId' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'oauthClientId',  # real hash path: \"/oauthClientId\"\n          },\n          'oauthClientSecret' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'oauthClientSecret',  # real hash path: \"/oauthClientSecret\"\n          },\n          'secret' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'secret',  # real hash path: \"/secret\"\n          },\n        },\n      },\n    },\n    'docker-compose' => {\n      'config' => {\n        'services' => {\n          'api' => {\n            'ports' => [\n              \"#{api_port}:80\",\n            ],\n            'environment' => {\n              'NODE_TLS_REJECT_UNAUTHORIZED' => '0',  # for self-signed cetificates\n              # The following variables will be set by the screwdriver::docker-compose recipe automatically.\n              #'ECOSYSTEM_UI' => \"http://#{node['fqdn']}:#{ui_port}\",\n              #'ECOSYSTEM_STORE' => \"http://#{node['fqdn']}:#{store_port}\",\n            },\n          },\n          'ui' => {\n            'ports' => [\n              \"#{ui_port}:80\",\n            ],\n            'environment' => {\n              # These variables will be set by the screwdriver::docker-compose recipe automatically.\n              #'ECOSYSTEM_API' => \"http://#{node['fqdn']}:#{api_port}\",\n              #'ECOSYSTEM_STORE' => \"http://#{node['fqdn']}:#{store_port}\",\n            },\n          },\n          'store' => {\n            'ports' => [\n              \"#{store_port}:80\",\n            ],\n            'environment' => {\n              # This variable will be set by the screwdriver::docker-compose recipe automatically.\n              #'ECOSYSTEM_UI' => \"http://#{node['fqdn']}:#{ui_port}\",\n            },\n          },\n        },\n      },\n    },\n  },\n)\n```\n\n- `roles/screwdriver-with-ssl.rb`\n\n```ruby\nname 'screwdriver-with-ssl'\ndescription 'screwdriver with SSL'\n\ncn = 'screwdriver.io.example.com'\nui_port     = '9000'\napi_port    = '9001'\nstore_port  = '9002'\n\nrun_list(\n  'role[docker]',\n  'recipe[screwdriver::docker-compose]',\n)\n\noverride_attributes(\n  'ssl_cert' => {\n    #'common_names' => [\n    #  cn,  # screwdriver cookbook < 0.2.2\n    #],\n  },\n  'screwdriver' => {\n    'with_ssl_cert_cookbook' => true,\n    'ssl_cert' => {\n      'common_name' => cn,\n    },\n    'api' => {\n      'config' => {\n        'executor' => {\n          'plugin' => 'docker',\n          'docker' => {\n            'options' => {\n              'docker' => {\n                'socketPath' => '/var/run/docker.sock',\n              },\n              'launchVersion' => 'stable',\n            },\n          },\n        },\n        'scms' => {\n          'github.com' => {\n            'plugin' => 'github',\n            'config' => {\n              # OAuth Callback URL: \"http://#{node['fqdn']}:9001/v4/auth/login/web\"\n              'username' => 'ci-tool',\n              'email' => 'citool@mail.example.com',\n              'privateRepo' => false,\n            },\n          },\n        },\n      },\n      'scms_vault_items' => {\n        'github.com' => {\n          'oauthClientId' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'oauthClientId',  # real hash path: \"/oauthClientId\"\n          },\n          'oauthClientSecret' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'oauthClientSecret',  # real hash path: \"/oauthClientSecret\"\n          },\n          'secret' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'secret',  # real hash path: \"/secret\"\n          },\n        },\n      },\n    },\n    'docker-compose' => {\n      'config' => {\n        'services' => {\n          'reverseproxy' => {\n            'ports' => [\n              \"#{ui_port}:9000\",\n            ],\n            'environment' => {\n            },\n          },\n          'api' => {\n            'ports' => [\n              \"#{api_port}:80\",\n            ],\n            'environment' => {\n              'NODE_TLS_REJECT_UNAUTHORIZED' => '0',  # for self-signed cetificates\n              # The following variables will be set by the screwdriver::docker-compose recipe automatically.\n              #'ECOSYSTEM_UI' => \"http://#{node['fqdn']}:#{ui_port}\",\n              #'ECOSYSTEM_STORE' => \"http://#{node['fqdn']}:#{store_port}\",\n            },\n          },\n          'ui' => {\n            #'ports' => [\n            #  \"#{ui_port}:80\",\n            #],\n            'environment' => {\n              # These variables will be set by the screwdriver::docker-compose recipe automatically.\n              #'ECOSYSTEM_API' => \"http://#{node['fqdn']}:#{api_port}\",\n              #'ECOSYSTEM_STORE' => \"http://#{node['fqdn']}:#{store_port}\",\n            },\n          },\n          'store' => {\n            'ports' => [\n              \"#{store_port}:80\",\n            ],\n            'environment' => {\n              # These variables will be set by the screwdriver::docker-compose recipe automatically.\n              #'ECOSYSTEM_UI' => \"http://#{node['fqdn']}:#{ui_port}\",\n            },\n          },\n        },\n      },\n    },\n  },\n)\n```\n\n### SSL server keys and certificates management by ssl_cert cookbook\n\n- create vault items.\n\n```text\n$ ruby -rjson -e 'puts JSON.generate({\"private\" => File.read(\"screwdriver.io.example.com.prod.key\")})' \\\n> > ~/sec/tmp/screwdriver.io.example.com.prod.key.json\n\n$ ruby -rjson -e 'puts JSON.generate({\"public\" => File.read(\"screwdriver.io.example.com.prod.crt\")})' \\\n> > ~/sec/tmp/screwdriver.io.example.com.prod.crt.json\n\n$ cd $CHEF_REPO_PATH\n\n$ knife vault create ssl_server_keys screwdriver.io.example.com.prod \\\n> --json ~/sec/tmp/screwdriver.io.example.com.prod.key.json\n\n$ knife vault create ssl_server_certs screwdriver.io.example.com.prod \\\n> --json ~/sec/tmp/screwdriver.io.example.com.prod.crt.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update ssl_server_keys  screwdriver.io.example.com.prod -S 'name:screwdriver-host.example.com'\n$ knife vault update ssl_server_certs screwdriver.io.example.com.prod -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'ssl_cert' => {\n    #'common_names' => [\n    #  'screwdriver.io.example.com',  # screwdriver cookbook < 0.2.2\n    #],\n  },\n  'screwdriver' => {\n    'with_ssl_cert_cookbook' => true,\n    'ssl_cert' => {\n      'common_name' => 'screwdriver.io.example.com',\n    },\n    # ...\n  },\n)\n```\n\n### JWT private and public keys management by Chef Vault\n\n- create vault items.\n\n```text\n$ ruby -rjson -e 'puts JSON.generate({\"private\" => File.read(\"screwdriver_jwt_private.key\")})' \\\n> > ~/sec/tmp/screwdriver_jwt_private.key.json\n\n$ ruby -rjson -e 'puts JSON.generate({\"public\" => File.read(\"screwdriver_jwt_public.key\")})' \\\n> > ~/sec/tmp/screwdriver_jwt_public.key.json\n\n$ cd $CHEF_REPO_PATH\n\n$ knife vault create screwdriver jwt_private_key \\\n> --json ~/sec/tmp/screwdriver_jwt_private.key.json\n\n$ knife vault create screwdriver screwdriver_jwt_public \\\n> --json ~/sec/tmp/screwdriver_jwt_public.key.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update screwdriver jwt_private_key -S 'name:screwdriver-host.example.com'\n$ knife vault update screwdriver jwt_public_key  -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'screwdriver' => {\n    # ...\n    'jwt_private_key_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 'jwt_private_key',\n      'env_context' => false,\n      'key' => 'private',\n    },\n    'jwt_public_key_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 'jwt_public_key',\n      'env_context' => false,\n      'key' => 'public',\n    },\n    # ...\n  },\n)\n```\n\n### Cookie password management by Chef Vault\n\n- create vault items.\n\n```text\n# A password used for encrypting session data. Needs to be minimum 32 characters\n$ cat ~/sec/tmp/screwdriver_cookie_password.json\n{\"password\":\"********************************\"}\n\n$ cd $CHEF_REPO_PATH\n$ knife vault create screwdriver cookie_password --json ~/sec/tmp/screwdriver_cookie_password.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update screwdriver cookie_password -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'screwdriver' => {\n    # ...\n    'cookie_password_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 'cookie_password',\n      'env_context' => false,\n      'key' => 'password',\n    },\n    # ...\n  },\n)\n```\n\n### Secrets encryption password management by Chef Vault\n\n- create vault items.\n\n```text\n# A password used for encrypting stored secrets. Needs to be minimum 32 characters\n$ cat ~/sec/tmp/screwdriver_password.json\n{\"password\":\"********************************\"}\n\n$ cd $CHEF_REPO_PATH\n$ knife vault create screwdriver password --json ~/sec/tmp/screwdriver_password.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update screwdriver password -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'screwdriver' => {\n    # ...\n    'password_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 'password',\n      'env_context' => false,\n      'key' => 'password',\n    },\n    # ...\n  },\n)\n```\n\n### Database username management (for MySQL, PostgreSQL,...) by Chef Vault\n\n- create vault items.\n\n```text\n$ cat ~/sec/tmp/screwdriver_db_username.json\n{\"username\":\"********************************\"}\n\n$ cd $CHEF_REPO_PATH\n$ knife vault create screwdriver db_username --json ~/sec/tmp/screwdriver_db_username.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update screwdriver db_username -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'screwdriver' => {\n    # ...\n    'db_username_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 'db_username',\n      'env_context' => false,\n      'key' => 'username',\n    },\n    # ...\n  },\n)\n```\n\n### Database password management (for MySQL, PostgreSQL,...) by Chef Vault\n\n- create vault items.\n\n```text\n$ cat ~/sec/tmp/screwdriver_db_password.json\n{\"password\":\"********************************\"}\n\n$ cd $CHEF_REPO_PATH\n$ knife vault create screwdriver db_password --json ~/sec/tmp/screwdriver_db_password.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update screwdriver db_password -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'screwdriver' => {\n    # ...\n    'db_password_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 'db_password',\n      'env_context' => false,\n      'key' => 'password',\n    },\n    # ...\n  },\n)\n```\n\n### Database root password management (for MySQL, PostgreSQL,...) by Chef Vault\n\n- create vault items.\n\n```text\n$ cat ~/sec/tmp/screwdriver_db_root_password.json\n{\"password\":\"********************************\"}\n\n$ cd $CHEF_REPO_PATH\n$ knife vault create screwdriver db_root_password --json ~/sec/tmp/screwdriver_db_root_password.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update screwdriver db_root_password -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'screwdriver' => {\n    # ...\n    'db_root_password_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 'db_root_password',\n      'env_context' => false,\n      'key' => 'password',\n    },\n    # ...\n  },\n)\n```\n\n### S3 (compatible) server access key management by Chef Vault\n\n- create vault items.\n\n```text\n$ cat ~/sec/tmp/screwdriver_s3_access_key.json\n{\n  \"kid\":\"********************\",\n  \"secret\":\"****************************************\"\n}\n\n$ cd $CHEF_REPO_PATH\n$ knife vault create screwdriver s3_access_key --json ~/sec/tmp/screwdriver_s3_access_key.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update screwdriver s3_access_key -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'screwdriver' => {\n    # ...\n    's3_access_key_id_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 's3_access_key',\n      'env_context' => false,\n      'key' => 'kid',\n    },\n    's3_access_key_secret_vault_item' => {\n      'vault' => 'screwdriver',\n      'name' => 's3_access_key',\n      'env_context' => false,\n      'key' => 'secret',\n    },\n    # ...\n  },\n)\n```\n\n### OAuth client ID, secret and GitHub webhook secret management by Chef Vault\n\n- create vault items.\n\n```text\n$ cat ~/sec/tmp/screwdriver_github_secrets.json\n{\n  \"oauthClientId\": \"***************************************************************\",\n  \"oauthClientSecret\": \"***************************************************************\",\n  \"secret\": \"**************************\"\n}\n```\n\n$ cd $CHEF_REPO_PATH\n\n```text\n$ knife vault create screwdriver github --json ~/sec/tmp/screwdriver_github_secrets.json\n```\n\n- grant reference permission to the screwdriver host\n\n```text\n$ knife vault update screwdriver github -S 'name:screwdriver-host.example.com'\n```\n\n- modify attributes\n\n```ruby\noverride_attributes(\n  'screwdriver' => {\n    # ...\n    'api' => {\n      # ...\n      'scms_vault_items' => {\n        'github.com' => {\n          'oauthClientId' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'oauthClientId',  # real hash path: \"/oauthClientId\"\n          },\n          'oauthClientSecret' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'oauthClientSecret',  # real hash path: \"/oauthClientSecret\"\n          },\n          'secret' => {\n            'vault' => 'screwdriver',\n            'name' => 'github',\n            'env_context' => false,\n            'key' => 'secret',  # real hash path: \"/secret\"\n          },\n        },\n      },\n    },\n    # ...\n  },\n)\n```\n\n### Note\n\n#### Database Initialization\n\nIf you use database other than sqlite, its database initialization will takes a few tens of seconds.\nYou should run a database container only at the beginning and then start the others. \n\n```\n$ sudo docker-compose up -d db\n...\nCreating network \"screwdriver_default\" with the default driver\nCreating screwdriver_db_1 ... done\n\n$ sudo docker-compose up -d\nscrewdriver_db_1 is up-to-date\nCreating screwdriver_api_1   ... done\nCreating screwdriver_ui_1    ... done\nCreating screwdriver_store_1 ... done\n```\n\n## License and Authors\n\n- Author:: whitestar at osdn.jp\n\n```text\nCopyright 2017, whitestar\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n```\n","maintainer":"whitestar","maintainer_email":"","license":"Apache 2.0","platforms":{"centos":">= 7.3","redhat":">= 7.3","debian":">= 9.0","ubuntu":">= 14.04"},"dependencies":{"docker-grid":">= 0.4.0","ssl_cert":">= 0.4.1"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"source_url":"http://scm.osdn.jp/gitroot/metasearch/grid-chef-repo.git","issues_url":"https://osdn.jp/projects/metasearch/ticket","chef_version":[[">= 12"]],"ohai_version":[]}