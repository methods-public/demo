# Generated by Chef
#
# DO NOT EDIT THIS FILE MANUALLY! In order to change the .swport file for a device, the
#       attributes should be modified for the node / role / environment on the Chef server.
#

[Match]
Name=<%= @DevName %>

<% if node[ "SystemdNetworkd" ][ "Ports" ][ @DevName ].include?( "Attributes" ) %>
[SWPortAttrs]
  <% node[ "SystemdNetworkd" ][ "Ports" ][ @DevName ][ "Attributes" ].each do |attr,val| %>
    <% node[ "SystemdNetworkdSwitchport" ][ "SupportedAttributes" ].each do |supported_attr| %>
      <% if attr == supported_attr %>
<%= attr %>=<%= val %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<% if node[ "SystemdNetworkd" ][ "Ports" ][ @DevName ].include?( "QOS" ) %>
[QosAttrs]
  <% node[ "SystemdNetworkd" ][ "Ports" ][ @DevName ][ "QOS" ].each do |attr,val| %>
    <% node[ "SystemdNetworkdSwitchport" ][ "QosSupportedAttributes" ].each do |supported_attr| %>
      <% if attr == supported_attr %>
<%= attr %>=<%= val %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<% if node[ "SystemdNetworkd" ][ "Ports" ][ @DevName ].include?( "RateLimit" ) %>
[RateLimit]
  <% node[ "SystemdNetworkd" ][ "Ports" ][ @DevName ][ "RateLimit" ].each do |attr,val| %>
    <% node[ "SystemdNetworkdSwitchport" ][ "RateLimitSupported" ].each do |supported_attr| %>
      <% if attr == supported_attr %>
<%= attr %>=<%= val %>
      <% end %>
    <% end %>
  <% end %>

<% end %>

<% if node[ "SystemdNetworkd" ][ "Ports" ][ @DevName ].include?( "Vlans" ) %>
  <% node[ "SystemdNetworkd" ][ "Ports" ][ @DevName ][ "Vlans" ].each do |vlanid,vlanopts| %>

[Vlan]
    <% vlanopts.each do |opt,val| %>
<%= opt %>=<%= val %>
    <% end %>
  <% end %>
<% end %>
