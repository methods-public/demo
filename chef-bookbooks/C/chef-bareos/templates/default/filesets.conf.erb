<%# BAREOS FILESET DEFINITIONS TEMPLATE %>
# Generated by Chef for <%= node['bareos']['director']['name'] %>-dir
# Local modifications will be overwritten.
#
# Bareos Pool Definition File

<% @fileset_config.sort.each do |fileset_name, section| -%>
FileSet {
  Name = "<%= fileset_name %>-fileset"
  Include {
    Options {
      <% section['options'].each do |key1, value1| %>
      <%= key1 %> = <%= value1 %>
      <% end %>
    }
    <% section['include'].each do |key2, value2| %>
      <% value2.each do |v2| %>
    <%= key2 %> = <%= v2 %>
      <% end %>
    <% end %>
  }
  Exclude {
    <% section['exclude'].each do |key3, value3| %>
      <% value3.each do |v3| %>
    <%= key3 %> = <%= v3 %>
      <% end %>
    <% end %>
  }
}

<% end %>
