<%# BAREOS CLIENT TEMPLATE %>
# Generated by Chef for <%= node['bareos']['director']['name'] %>-dir
# Local modifications will be overwritten.
#
# Bareos Client Configuration File

<% unless @unmanaged_clients.nil? %>
  <% @unmanaged_clients.sort.each do |client_key, client_value| %>
Client {
  Name = "<%= client_key %>"
    <% client_value.each do |key, value| %>
  <%= key %> = <%= value %>
    <% end %>
}

  <% end %>
<% end %>
<% @bareos_clients.sort.each do |client| %>
Client {
  Name = "<%= client['bareos']['clients']['name'] %>-fd"
  Address = <%= client['bareos']['clients']['net_name'] %>
  Password = "<%= client['bareos']['fd_password'] %>" # password for FileDaemon
  Catalog = <%= client['bareos']['database']['catalog_name'] %>
  <% @client_conf.each do |key, value| %>
  <%= key %> = <%= value %>
  <% end %>
}

<% end %>
