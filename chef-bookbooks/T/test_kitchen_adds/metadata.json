{"name":"test_kitchen_adds","version":"0.1.1","description":"The test_kitchen_adds cookbook provides Active Directory domain controller and member helper recipes in test kitchen.","long_description":"test_kitchen_adds cookbook\n==========================\nThe test_kitchen_adds cookbook provides Active Directory domain controller and member helper recipes in Test Kitchen.\n\nRequirements\n------------\n- Chef 12.x or higher\n- Ruby 2.0 or higher (preferably from the Chef full-stack installer)\n- Network accessible package repositories\n\nDependencies\n------------\nThis cookbook depends on the following cookbooks.\n- `hurry-up-and-test`\n\nPlatform Support\n----------------\nThe following platforms have been tested with Test Kitchen:\n- Windows Server 2016 Standard Server Core\n\nUsage\n-----\nInclude `test_kitchen_adds` as a dependency in your cookbook's `metadata.rb`.\n\n```\n 'test_kitchen_adds', '= 0.1.0'\n```\n\n.kitchen.yml\n------------\nInclude a domain_controller suite in your cookbook to provide an Active Directory domain to join.  Use `kitchen converge` rather than `kitchen test` to avoid destroying the domain controller node before other suites are run.\n\nAdd the 'hurry-up-and-test::set_non_nat_vbox_ip' and 'test_kitchen_adds::join_domain' recipes to any suites which need to join to this domain.  The nodes provisioner is used to search for the domain controller IP in the join_domain recipe.\n\nThe .kitchen.yml settings below configure a private network interface for each node and manage chef-client exit codes on reboot.\n\n```\n---\ndriver:\n  name: vagrant\n\nprovisioner:\n  name: nodes\n  client_rb:\n    client_fork: false\n    exit_status: :enabled\n  retry_on_exit_code:\n    - 35\n  max_retries: 10\n  wait_for_retry: 60\n\nverifier:\n  name: pester\n\nplatforms:\n  - name: windows\n    driver_config:\n      box: jacqinthebox/windowsserver2016core\n      network:\n        - [\"private_network\", {type: \"dhcp\"}]\n      customize:\n        usb: 'off'\n\nsuites:\n  - name: domain_controller\n    driver:\n      vm_hostname: dc01\n    run_list:\n      - hurry-up-and-test::set_non_nat_vbox_ip\n      - test_kitchen_adds::domain_controller\n  - name: domain_member\n    run_list:\n      - hurry-up-and-test::set_non_nat_vbox_ip\n      - test_kitchen_adds::join_domain\n```\n\nAttributes\n----------\n\nThe following attributes can be used to customise the Active Directory configuration.\n\n```\nnode.default['test_kitchen_adds']['addomain']['database_path'] = 'C:\\Windows\\NTDS'\nnode.default['test_kitchen_adds']['addomain']['domain_administrator_username'] = 'Administrator'\nnode.default['test_kitchen_adds']['addomain']['domain_administrator_password'] = 'vagrant'\nnode.default['test_kitchen_adds']['addomain']['domain_name'] = 'test-kitchen.local'\nnode.default['test_kitchen_adds']['addomain']['log_path'] = 'C:\\Windows\\NTDS'\nnode.default['test_kitchen_adds']['addomain']['safemode_administrator_password'] = 'Testing123!'\nnode.default['test_kitchen_adds']['addomain']['sysvol_path'] = 'C:\\Windows\\SYSVOL'\n```\n\nRecipes\n-------\n#### `test_kitchen_adds::default`\nIntentionally empty.\n#### `test_kitchen_adds::domain_controller`\nConfigures Active Directory domain controller in Test Kitchen.\n#### `test_kitchen_adds::join_domain`\nJoins node to Active Directory domain in Test Kitchen.\n\nContributing\n------------\n1. Fork the repository on GitHub.\n2. Create a named feature branch (like `add_component_x`).\n3. Write your change.\n4. Write tests for your change (this cookbook currently uses Pester with Test Kitchen).\n5. Run the tests, ensuring they all pass.\n6. Submit a Pull Request using GitHub.\n\nLicense and Authors\n-------------------\nAuthor: Richard Lock\n\nCopyright 2017 University of Derby\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n<http://www.apache.org/licenses/LICENSE-2.0>\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n","maintainer":"University of Derby","maintainer_email":"its-chef@derby.ac.uk","license":"Apache-2.0","platforms":{"windows":">= 0.0.0"},"dependencies":{"hurry-up-and-test":"~> 0.1.2"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"source_url":"https://github.com/universityofderby/chef-test_kitchen_adds","issues_url":"https://github.com/universityofderby/chef-test_kitchen_adds/issues","chef_version":[[">= 12.0"]],"ohai_version":[]}